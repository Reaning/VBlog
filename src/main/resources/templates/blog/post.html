<!DOCTYPE html>
<html lang="en">
    <header th:replace="/blog/header::headerFragment(${article.title})"></header>
    <body>
        <!-- Navigation-->
        <header th:replace="/blog/header::navbar"></header>
        <!-- Page Header-->
        <header class="masthead" th:style="'background-image:url('+${article.imgUrl == null || article.imgUrl.equals('') ? '/blog/assets/img/post-bg.jpg':article.imgUrl}+')'">
            <div class="container position-relative px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <div class="post-heading">
                            <h1 th:text="${article.title}"></h1>
                            <h2 class="subheading" th:text="${article.subtitle}"></h2>
                            <span class="meta">
                                Posted by
                                <a href="#!" th:text="${user.name}">Start Bootstrap</a>
                                <span th:text="${#dates.format(article.gmtCreate,'yyyy-MM-dd HH:mm')}"></span>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- Post Content-->
        <article class="mb-4">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-10 col-xl-10">
                        <div id="test-markdown-view">
                            <textarea style="display:none;" th:text="${article.content}"></textarea>
                        </div>
                        <script type="text/javascript">
                            $(function() {
                                var testView = editormd.markdownToHTML("test-markdown-view", {
                                    tex:true
                                });
                            });
                        </script>
                        <div class="commentys-form">

                            <h4>Leave a comment</h4>


                            <div class="row">

                                <form  id="comment-form" class="comment-form" role="form"
                                       onsubmit="return TaleComment.subComment();">

                                    <input type="hidden" name="coid" id="coid"/>
                                    <!--                    <input type="hidden" name="cid" id="cid" th:value="${article.cid}"/>-->
                                    <!--                    <input type="hidden" name="_csrf_token" th:value="${_csrf_token}"/>-->
                                    <div class="col-xs-12 col-sm-12 col-md-12">
                                        <div class="col-xs-12 col-sm-12 col-md-12">

                                            <input type="text" name="author" maxlength="12" id="author"
                                                   placeholder="姓名 (*)"
                                            />

                                        </div>

                                        <div class="col-xs-12 col-sm-12 col-md-12">

                                            <input type="email" name="mail" id="mail"
                                                   placeholder="邮箱 (*)"
                                            />

                                        </div>

                                        <div class="col-xs-12 col-sm-12 col-md-12">

                                            <input type="url" name="url" id="url"
                                                   placeholder="网址 (http://)"
                                            />

                                        </div>
                                    </div>
                                    <div class="clearfix"></div>

                                    <div class="col-xs-12 col-sm-12 col-md-12">

                                <textarea name="text" id="textarea" placeholder="以上信息可以为空,评论不能为空哦!"
                                          required="required" minlength="5"
                                          maxlength="2000"></textarea>
                                    </div>

                                    <div class="text-center">

                                        <input type="submit" value="Post Comment" id="misubmit"/>

                                    </div>


                                </form>

                            </div>


                        </div>
                    </div>
                </div>
            </div>


        </article>
        <!-- Footer-->
        <header th:replace="/blog/header::footer"></header>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script th:src="@{/blog/js/scripts.js}"></script>
    </body>
</html>
